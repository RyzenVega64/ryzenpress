# HTTPS

## 对HTTP2的理解

HTTP2是一种用于在Web浏览器和服务器之间传输数据的协议。它是HTTP协议的下一代版本，旨在提高性能和效率。下面是对HTTP2的简单解释：

* 多路复用：HTTP2通过将多个请求/响应交织在一个TCP连接上，实现了多路复用。这意味着在单个连接上可以同时处理多个请求和响应，而不需要为每个请求打开一个新的连接。这提高了效率并减少了延迟。
* 二进制协议：相对于HTTP1.x中的文本协议，HTTP2使用二进制格式来传输数据。这样做的好处是更高的效率和可读性。二进制协议可以更好地压缩和解析数据，减少了数据传输的大小。
* 首部压缩：HTTP2使用了首部压缩算法，减少了请求和响应的头部大小。这减少了网络带宽的使用，提高了性能。
* 服务器推送：HTTP2 中，服务器可以在客户端请求某个资源时，主动将与该资源相关的其他资源一同推送到客户端，从而减少客户端的请求次数。
* 数据流和帧：HTTP2中，一个连接可以由多个数据流组成，同时每个数据流可以由多个帧（Frame）组成。数据流和帧的引入，使得数据可以以更加细粒度的方式进行控制和管理，以适应客户端的处理能力。总的来说，HTTP2 的目标是提高传输效率，减少延迟，提高用户体验，旨在提供更快的网页加载速度和更好的用户体验。

## HTTP1.0 和 HTTP1.1 之间有哪些区别

* 持久连接: http1.0默认是短连接, 即每次请求都要重新建立链接, 服务器消耗较大, 除非开启keep-alive; http1.1默认长连接, 建立一次连接可以持续发送请求
* 分块传输编码: http1.0中存在一些宽带浪费的现象, 比如只需要服务器的一部分资源, 但是会返回所有的资源; http1.1中, 引入的range字段, 允许只请求资源的某个部分
* 缓存: http1.0中使用缓存主要使用的是 if-modify-since, expire来进行缓存策略, http1.1中引入了更丰富的缓存策略
* 更多的状态码, 以及更多的请求http方法(HEAD, PUT, OPTIONS, DELETE)
* 流水线处理: http1.1在发送请求之前, 可以不用等待服务器的响应, 继续发送其他请求, 减少网络延时 (非流水线的方式, 客户端在收到一个响应之后才能发送下一个请求, 中间有很长的空闲状态, 浪费了服务器资源)

::: info
http1.0典型的特点就是无状态, 每次请求完成了就结束了, 不会保存任何信息, 这一特点虽然确保了协议的可伸缩性, 但是会有一些别的弊端, 比如维持登录状态, 服务器需要知道是谁在进行操作, 这时候就出现了一个叫做cookie的技术, 去弥补http的无状态
:::

## HTTP 协议的优点和缺点

### 优点：

* 灵活性高，可扩展性强，从http1.0到http2.0再到http2.x,http一直在扩展新的属性
* 可靠传输，因为http协议是基于tcp协议的应用层协议，tcp协议就是可靠传输协议
* 请求应答，有来无回
* 无状态的，每一个请求都是相互独立的，默认不需要保存上下文信息

### 缺点：

* 明文传输不安全
* 复用一个tcp连接，会发生对头阻塞的情况
* 不能双向通信，不适用长时间连接场景

## HTTP 的长连接和短连接分别是什么 keep-alive 是干什么的

在HTTP协议中，长连接和短连接是指客户端与服务器之间的连接的持续时间。

短连接是指每次客户端发送请求后，服务器会立即响应并关闭连接。这意味着每个请求都需要重新建立连接，这样会增加额外的开销，特别是在频繁请求的情况下。

长连接是指客户端与服务器之间的连接在一段时间内保持打开状态，可以用于多次请求和响应。在长连接中，客户端可以发送多个请求，而无需每次都重新建立连接。服务器也可以在接收到请求后保持连接打开，以便在未来的请求中发送响应。

keep-alive 是HTTP协议中的一个机制，用于实现长连接。当启用 keep-alive 时，客户端和服务器之间的连接将在一段时间内保持打开状态，以便在未来的请求中复用。这样可以减少连接的建立和关闭次数，提高性能和效率。

通过使用长连接和 keep-alive，可以减少网络传输的延迟，并减少服务器的负载。这对于需要频繁请求的应用程序特别有用，例如实时聊天、流媒体和长轮询等。
